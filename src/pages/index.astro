---

import BaseLayout from "../layouts/BaseLayout.astro";
import NavBar from "../components/NavBar.astro";
import Footer from "../components/Footer.astro";
import Cubes from "../components/Cubes.tsx";
import DynamicLogoLoop from "../components/DynamicLogoLoop.astro";

const partnerLogos = [
  { domain: "openai.com", alt: "OpenAI" },
  { domain: "anthropic.com", alt: "Anthropic" },
  { domain: "langchain.com", alt: "LangChain" },
  { domain: "pydantic.ai", alt: "Pydantic AI" },
  { domain: "crewai.com", alt: "Crew AI" },
  { domain: "autogenai.com", alt: "Autogen AI" },
];

---

<BaseLayout title="Playgent Test â€” Expert Consulting for AI Agent Testing">
  <NavBar />
  <main>
    <!-- Hero Section -->
    <section id="hero" class="section" style="padding-top:160px;padding-bottom:40px;position:relative;overflow:hidden;">
      <div class="container">
        <div class="hero-box">
          <div class="hero-content">
            <a href="https://www.ycombinator.com" target="_blank" rel="noopener noreferrer" class="backed-by-box" style="margin-bottom:20px;text-decoration:none;">
              <span class="backed-by-text">Backed by</span>
              <img src="/ycombinator.svg" alt="Y Combinator" class="backed-by-logo" />
            </a>
            <h1 style="margin-bottom:24px;">Ship agents with confidence.</h1>
            <p class="lead" style="margin-bottom:12px;">
              <span id="typed-text"></span><span id="cursor" style="animation:blink 1s infinite;">|</span>
            </p>
            <p style="color:var(--muted);margin:0 0 32px;font-size:17px;">We provide everything you need to test AI agents.</p>
            <a href="/waitlist" class="hero-cta-btn">Join Waitlist</a>
          </div>
          <div class="hero-cubes desktop-only">
            <div style="width:70%;max-width:400px;">
              <Cubes 
                client:load
                gridSize={4}
                autoAnimate={true}
                borderStyle="1px solid #00e5ff"
                faceColor="rgba(0, 229, 255, 0.05)"
                rippleColor="#00e5ff"
                rippleOnClick={true}
                maxAngle={35}
                radius={3.5}
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Agent Stack Logos -->
    <div class="container" style="padding:24px 0 16px;">
      <p style="text-align:center;color:var(--muted);margin-bottom:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:0.1em;">Works with your agent stack</p>
      <DynamicLogoLoop logos={partnerLogos} speed={30} logoHeight={28} gap={60} />
    </div>

    <!-- How It Works Section -->
    <section id="how" class="section" style="padding-top:40px;">
      <div class="container">
        <div class="how-box" style="border-left:1px solid var(--border);border-right:1px solid var(--border);position:relative;">
          
          <!-- Section 1: Generate User Environments -->
          <div class="dev-section">
            <div class="dev-section-grid">
              <div class="dev-section-text">
                <h3 class="dev-section-title">Generate User Environments</h3>
                <p class="dev-section-desc">Create synthetic users with complete profiles and connected apps. Each environment comes with MCP server URLs that your agent can interact withâ€”no auth setup required.</p>
              </div>
              <div class="dev-code-block">
                <div class="code-header">
                  <span class="code-dot red"></span>
                  <span class="code-dot yellow"></span>
                  <span class="code-dot green"></span>
                  <span class="code-filename">create_env.py</span>
                </div>
                <div class="code-content" id="env-code-content">
                  <div class="code-line" data-delay="0"><span class="code-var">env</span> <span class="code-op">=</span> <span class="code-module">playgent</span>.<span class="code-fn">create_environment</span>(</div>
                  <div class="code-line" data-delay="100">    <span class="code-param">identity</span><span class="code-op">=</span><span class="code-string">"Michael, a senior accountant at Acme Corp"</span>,</div>
                  <div class="code-line" data-delay="200">    <span class="code-param">apps</span><span class="code-op">=</span>[<span class="code-string">"stripe"</span>, <span class="code-string">"gmail"</span>, <span class="code-string">"quickbooks"</span>]</div>
                  <div class="code-line" data-delay="300">)</div>
                  <div class="code-line" data-delay="1300"></div>
                  <div class="code-line" data-delay="1400"><span class="code-fn">print</span>(<span class="code-var">env</span>.<span class="code-prop">url</span>)</div>
                  <div class="code-line output-line" data-delay="1500"><span class="code-output">https://api.playgent.dev/env/7x9k2</span></div>
                  <div class="code-line" data-delay="2000"></div>
                  <div class="code-line" data-delay="2100"><span class="code-fn">print</span>(<span class="code-var">env</span>.<span class="code-prop">mcp</span>[<span class="code-string">"stripe"</span>])</div>
                  <div class="code-line output-line" data-delay="2200"><span class="code-output">mcp://playgent.dev/stripe/7x9k2</span></div>
                  <div class="code-line" data-delay="2600"><span class="code-fn">print</span>(<span class="code-var">env</span>.<span class="code-prop">mcp</span>[<span class="code-string">"gmail"</span>])</div>
                  <div class="code-line output-line" data-delay="2700"><span class="code-output">mcp://playgent.dev/gmail/7x9k2</span></div>
                  <div class="code-line" data-delay="3100"><span class="code-fn">print</span>(<span class="code-var">env</span>.<span class="code-prop">mcp</span>[<span class="code-string">"quickbooks"</span>])</div>
                  <div class="code-line output-line" data-delay="3200"><span class="code-output">mcp://playgent.dev/quickbooks/7x9k2</span></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Section 2: Simulated Conversations -->
          <div class="dev-section">
            <div class="dev-section-header">
              <h3 class="dev-section-title">Run Simulated Tasks</h3>
              <p class="dev-section-desc">Define an intent, seed mock data, and let your agent interact with the simulated user through realistic multi-turn conversations.</p>
            </div>
            <div class="dev-section-grid-full">
              <div class="dev-code-block">
                <div class="code-header">
                  <span class="code-dot red"></span>
                  <span class="code-dot yellow"></span>
                  <span class="code-dot green"></span>
                  <span class="code-filename">run_task.py</span>
                </div>
                <div class="code-content" id="task-code-content">
                  <div class="code-line" data-delay="0" id="task-line-1"><span class="code-var">task</span> <span class="code-op">=</span> <span class="code-var">env</span>.<span class="code-fn">task</span>(</div>
                  <div class="code-line" data-delay="50" id="task-line-2">    <span class="code-param">intent</span><span class="code-op">=</span><span class="code-string">"Email an excel report of all Stripe</span></div>
                  <div class="code-line" data-delay="50" id="task-line-3">            <span class="code-string">invoices from May 2025 to john@gmail.com"</span>,</div>
                  <div class="code-line" data-delay="100" id="task-line-4">    <span class="code-param">mock_data</span><span class="code-op">=</span>{"{"}</div>
                  <div class="code-line" data-delay="150" id="task-line-5">        <span class="code-string">"stripe"</span>: <span class="code-string">"Multiple invoices Jan-Sep 2025"</span></div>
                  <div class="code-line" data-delay="200" id="task-line-6">    {"}"}</div>
                  <div class="code-line" data-delay="250" id="task-line-7">)</div>
                  <div class="code-line" data-delay="400"></div>
                  <div class="code-line" data-delay="500" id="task-line-while"><span class="code-keyword">while</span> <span class="code-keyword">not</span> <span class="code-var">task</span>.<span class="code-fn">finished</span>():</div>
                  <div class="code-line" data-delay="600" id="task-line-input">    <span class="code-var">input</span> <span class="code-op">=</span> <span class="code-var">task</span>.<span class="code-fn">generate_input</span>()</div>
                  <div class="code-line" data-delay="700" id="task-line-output-1">    <span class="code-var">output</span> <span class="code-op">=</span> <span class="code-var">client</span>.<span class="code-prop">responses</span>.<span class="code-fn">create</span>(</div>
                  <div class="code-line" data-delay="750" id="task-line-output-2">        <span class="code-param">input</span><span class="code-op">=</span><span class="code-var">task</span>.<span class="code-fn">state</span>() <span class="code-op">+</span> <span class="code-var">input</span>,</div>
                  <div class="code-line" data-delay="800" id="task-line-output-3">        <span class="code-param">tools</span><span class="code-op">=</span>[{"{"}<span class="code-string">"type"</span>: <span class="code-string">"mcp"</span>, <span class="code-string">"server_url"</span>: <span class="code-var">env</span>.<span class="code-prop">mcp</span>[<span class="code-string">"gmail"</span>]{"}"}, ...]</div>
                  <div class="code-line" data-delay="850" id="task-line-output-4">    )</div>
                  <div class="code-line" data-delay="900" id="task-line-act">    <span class="code-var">env</span>.<span class="code-fn">act</span>(<span class="code-var">output</span>)</div>
                </div>
              </div>
              <div class="console-block">
                <div class="console-header">
                  <span class="console-icon">â–¶</span>
                  <span class="console-title">Console Output</span>
                </div>
                <div class="console-content" id="console-output">
                  <div class="console-line system" data-delay="0" data-highlight="task-line-1,task-line-2,task-line-3,task-line-4,task-line-5,task-line-6,task-line-7"><span class="console-prefix">âš™</span> Seeding environment with fake data...</div>
                  <div class="console-line system" data-delay="1000" data-highlight="task-line-1,task-line-2,task-line-3,task-line-4,task-line-5,task-line-6,task-line-7"><span class="console-prefix">âœ“</span> Created 70 invoices from Jan 1 2025 to Sep 1 2025</div>
                  <div class="console-line" data-delay="2000"></div>
                  <div class="console-line user" data-delay="2200" data-highlight="task-line-input"><span class="console-label">Michael</span> Create an earnings report with all invoices from May 2025</div>
                  <div class="console-line agent" data-delay="3200" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-label">Agent</span> Sure, let me do that for you.</div>
                  <div class="console-line tool" data-delay="4000" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-prefix">â†’</span> list_tools <span class="console-url">mcp://playgent.dev/stripe/7x9k2</span></div>
                  <div class="console-line tool" data-delay="4600" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-prefix">â†’</span> list_invoices(ending_before="2025-06-01", starting_after="2025-05-01")</div>
                  <div class="console-line agent" data-delay="5400" data-highlight="task-line-act"><span class="console-label">Agent</span> Got the invoices! Creating an Excel report now...</div>
                  <div class="console-line file" data-delay="6000" data-highlight="task-line-act"><span class="console-prefix">ðŸ“Ž</span> <span class="console-file">report.xlsx</span></div>
                  <div class="console-line user" data-delay="6800" data-highlight="task-line-input"><span class="console-label">Michael</span> Thanks! Now email this report to john@gmail.com</div>
                  <div class="console-line agent" data-delay="7800" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-label">Agent</span> Sure, emailing the report now.</div>
                  <div class="console-line tool" data-delay="8400" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-prefix">â†’</span> list_tools <span class="console-url">mcp://playgent.dev/gmail/7x9k2</span></div>
                  <div class="console-line tool" data-delay="9000" data-highlight="task-line-output-1,task-line-output-2,task-line-output-3,task-line-output-4"><span class="console-prefix">â†’</span> send_email(to="john@gmail.com", body="Please find the report...")</div>
                  <div class="console-line success" data-delay="9800" data-highlight="task-line-act"><span class="console-prefix">âœ“</span> Email sent successfully</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Hero: Testing Ecosystem -->
          <div class="desktop-hero-message">
            <div class="hero-message-content">
              <span class="hero-message-eyebrow">The Complete</span>
              <h2 class="hero-message-title">Testing Ecosystem<br/>for AI Agents</h2>
              <div class="hero-message-accent"></div>
            </div>
          </div>

          <!-- Simulation Environment Section -->
          <div class="step-item">
            <div class="step-item-header">
              <h3 class="dev-section-title">Create infinite user environments. Give your agents a playground.</h3>
            </div>
            <p style="color:var(--muted);margin-bottom:32px;">Select a user persona to see how Playgent simulates realistic testing scenarios.</p>

            <p class="mobile-only" style="color:var(--muted);font-size:14px;text-align:center;padding:24px;background:var(--box-bg);border:1px solid var(--border-bright);margin-bottom:32px;">
              Please view on desktop for best experience
            </p>

            <div class="scenario-animation desktop-only">
              <!-- Profile Cards Carousel -->
              <div class="profile-carousel">
                <div class="carousel-track" id="carousel-track">
                  <div class="profile-card" data-example="coding" data-index="0">
                    <img src="/alex-icon.png" alt="Alex" class="profile-avatar" />
                    <div class="profile-info">
                      <span class="profile-name">Alex</span>
                      <span class="profile-role">Software Engineer</span>
                    </div>
                    <p class="profile-desc">Works with GitHub, Jira, and Linear to manage code and track issues.</p>
                  </div>
                  <div class="profile-card" data-example="customer-support" data-index="1">
                    <img src="/sandra-icon.png" alt="Sandra" class="profile-avatar" />
                    <div class="profile-info">
                      <span class="profile-name">Sandra</span>
                      <span class="profile-role">Support Lead</span>
                    </div>
                    <p class="profile-desc">Uses Zendesk, Slack, and Gmail to handle customer inquiries.</p>
                  </div>
                  <div class="profile-card" data-example="accounting" data-index="2">
                    <img src="/michael-icon.png" alt="Michael" class="profile-avatar" />
                    <div class="profile-info">
                      <span class="profile-name">Michael</span>
                      <span class="profile-role">Finance Manager</span>
                    </div>
                    <p class="profile-desc">Manages invoices and payments with QuickBooks, Stripe, and Gmail.</p>
                  </div>
                </div>
                <p class="carousel-description" id="carousel-description">Sarah is a fake customer support member at Acme corp using agents to manage customer support tickets.</p>
                </div>

              <!-- Top Row: Sandbox -> Input/Output -> Agent -->
              <div class="top-row">
                <!-- Playgent Sandbox -->
                <div class="sandbox-box" id="sandbox-box">
                  <div class="sandbox-header">Playgent Sandbox</div>
                  <div class="sandbox-content">
                    <div class="sandbox-section">
                      <div class="sandbox-section-label">Simulated User (LLM)</div>
                      <div class="sandbox-row">
                        <img src="/sandra-icon.png" width="40" height="40" id="sandbox-user-icon" class="sandbox-icon" alt="User" />
                        <span class="user-name" id="user-name">Alex</span>
                </div>
              </div>
                    <div class="sandbox-section">
                      <div class="sandbox-section-label">Simulated Environments</div>
                      <div class="sandbox-row" id="integrations-container">
                        <img src="/github-icon.png" width="40" height="40" class="integration-item" data-integration="github" id="integration-github" alt="GitHub" />
                        <img src="/jira-icon.png" width="40" height="40" class="integration-item" data-integration="jira" id="integration-jira" alt="Jira" />
                        <img src="/linear-icon.png" width="40" height="40" class="integration-item" data-integration="linear" id="integration-linear" alt="Linear" />
                </div>
              </div>
            </div>
          </div>

                <!-- Arrows Container -->
                <div class="arrows-container">
                  <!-- Forward arrow: Sandbox -> Input -->
                  <div class="arrow-horizontal forward" id="arrow-input-forward">
                    <div class="arrow-line"></div>
                    <div class="arrow-head"></div>
              </div>
                  <!-- Reverse arrow: Sandbox <- Output -->
                  <div class="arrow-horizontal reverse" id="arrow-output-reverse">
                    <div class="arrow-line"></div>
                    <div class="arrow-head"></div>
            </div>
                </div>

                <!-- Input/Output Section -->
                <div class="input-output-box">
                  <div class="io-item" id="scenario-input-box">
                    <div class="io-label">Generated Input</div>
                    <div class="io-text" id="scenario-input-text">Fetch all risk reports and summarize the main points</div>
                    </div>
                  <div class="io-item" id="agent-response-box">
                    <div class="io-label">Agent Output</div>
                    <div class="io-text" id="agent-response-text"></div>
                    <div class="io-text tool-call" id="agent-tool-call"></div>
                  </div>
                </div>

                <!-- Arrows Container -->
                <div class="arrows-container">
                  <!-- Forward arrow: Input -> Agent -->
                  <div class="arrow-horizontal forward" id="arrow-agent-forward">
                  <div class="arrow-line"></div>
                  <div class="arrow-head"></div>
                  </div>
                  <!-- Reverse arrow: Output <- Agent -->
                  <div class="arrow-horizontal reverse" id="arrow-agent-reverse">
                    <div class="arrow-line"></div>
                    <div class="arrow-head"></div>
                  </div>
                </div>

                <!-- Agent -->
                <div class="agent-box" id="agent-box">
                  <div class="agent-label">Your Agent</div>
                  <div class="agent-content">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--muted)" stroke-width="1.5">
                    <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                      <circle cx="9" cy="10" r="1" fill="var(--muted)"></circle>
                      <circle cx="15" cy="10" r="1" fill="var(--muted)"></circle>
                    <path d="M9 14h6" stroke-linecap="round"></path>
                  </svg>
                    <div class="agent-labels">
                      <div class="agent-label-item" id="agent-prompt-label">
                        <span>Prompt</span>
                      </div>
                      <div class="agent-label-item">
                        <span>Tools</span>
                      </div>
                    </div>
                  </div>
                </div>
                </div>

              <!-- Arrows from Sandbox to Evals and Evals to Agent -->
              <div class="vertical-arrows-container">
                <div class="arrow-vertical-down" id="arrow-sandbox-to-evals">
                      <div class="arrow-line"></div>
                      <div class="arrow-head"></div>
                    </div>
                <div class="arrow-vertical-up" id="arrow-evals-to-agent">
                  <div class="arrow-head"></div>
                  <div class="arrow-line"></div>
                </div>
                <div class="optimize-label" id="optimize-label">
                  <svg class="spinner" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
                      </svg>
                  Optimizing prompt
                    </div>
                  </div>

              <!-- Bottom Row: Playgent Evals -->
              <div class="bottom-row">
                <div class="evals-box" id="evals-box">
                  <div class="evals-header">Playgent Evals</div>
                  <div class="evals-content">
                    <div class="evals-details">
                      <div class="evals-top-row">
                        <div class="status-badge" id="status-badge">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <polyline points="20 6 9 17 4 12"></polyline>
                      </svg>
                          <span id="status-text">Passed</span>
                    </div>
                        <div class="evals-scores">
                          <div class="score-item">
                            <span class="score-label">Correctness</span>
                            <span class="score-value" id="score-correctness">0.95</span>
                  </div>
                          <div class="score-item">
                            <span class="score-label">Clarity</span>
                            <span class="score-value" id="score-clarity">0.88</span>
                </div>
                          <div class="score-item">
                            <span class="score-label">Completeness</span>
                            <span class="score-value" id="score-completeness">0.92</span>
              </div>
              </div>
                      </div>
                      <div class="evals-section">
                        <div class="evals-section-title">LLM Grader Rationale</div>
                        <div class="evals-section-content" id="grader-rationale">The agent correctly fetched and summarized the risk reports as requested. The response is clear and addresses all main points.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Pagination Dots -->
              <div class="pagination-dots" id="pagination-dots">
                <button class="pagination-dot active" data-step="0" aria-label="Step 1"></button>
                <button class="pagination-dot" data-step="1" aria-label="Step 2"></button>
                <button class="pagination-dot" data-step="2" aria-label="Step 3"></button>
                <button class="pagination-dot" data-step="3" aria-label="Step 4"></button>
              </div>
            </div>
          </div>

          <!-- Hero: Realistic Interactions -->
          <div class="desktop-hero-message">
            <div class="hero-message-content">
              <span class="hero-message-eyebrow">The Promise</span>
              <h2 class="hero-message-title">Realistic interactions.<br/>Simulated users.</h2>
              <div class="hero-message-accent"></div>
            </div>
          </div>

          <!-- FAQ Section -->
          <div id="faq" class="step-item" style="border-bottom:none;">
            <div style="display:flex;align-items:center;gap:16px;margin-bottom:16px;">
              <div style="width:40px;height:40px;display:grid;place-items:center;border:1px solid var(--accent);background:var(--accent-bg);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                  <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
              </div>
              <strong style="font-size:20px;">Frequently Asked Questions</strong>
            </div>
            <p style="color:var(--muted);margin-bottom:32px;">Everything you need to know about Playgent's testing platform.</p>

            <div class="faq-container">
              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>Why use Playgent over other testing tools?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="faq-answer">
                  <p>Playgent is the only testing platform that develops custom user environments. Go beyond static datasets and give your agents simulated users with full profiles and complete suites of tools. Our approach creates realistic, dynamic testing scenarios that reflect how your agent will perform in the real world.</p>
                  </div>
                </div>

              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>How does it work?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </button>
                <div class="faq-answer">
                  <p>Playgent has a proprietary method to mock tools and build stateful environments, so you never need to worry about auth setup or manually configuring integrations. To your agent, it seems like a real user with real connected appsâ€”but it's all simulated behind the scenes.</p>
                </div>
                </div>

              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>What integrations do you support?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="faq-answer">
                  <p>We support over 100 integrations out of the box, including popular tools like GitHub, Jira, Linear, Slack, Zendesk, Stripe, QuickBooks, Gmail, and many more. If you need a custom integration, our team can build it for you as part of your onboarding.</p>
                  </div>
                </div>

              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>How does the evaluation system work?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </button>
                <div class="faq-answer">
                  <p>Playgent uses a suite of 27+ evaluation metrics powered by LLM-based graders. Each interaction is scored across dimensions like correctness, clarity, completeness, latency, and tool usage patterns. You get detailed rationales for every score, making it easy to identify exactly where your agent needs improvement.</p>
                </div>
                </div>

              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>Can I integrate Playgent into my CI/CD pipeline?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="faq-answer">
                  <p>Absolutely. Playgent provides APIs and CLI tools that integrate seamlessly with GitHub Actions, GitLab CI, Jenkins, and other popular CI/CD platforms. Run your agent tests automatically on every pull request and catch regressions before they reach production.</p>
                </div>
              </div>

              <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                  <span>What makes the simulated users realistic?</span>
                  <svg class="faq-chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </button>
                <div class="faq-answer">
                  <p>Each simulated user has a complete profile including personality traits, communication style, domain expertise, and connected apps with realistic data. They behave like real usersâ€”asking follow-up questions, making mistakes, and testing edge cases your team might never think of.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing/Contact Section -->
    <section id="pricing" class="section" style="padding-top:40px;padding-bottom:80px;">
      <div class="container">
        <div style="text-align:center;max-width:800px;margin:0 auto;">
          <h2 style="margin-bottom:24px;">Ready to test with confidence?</h2>
          <p style="color:var(--muted);font-size:18px;line-height:1.7;margin-bottom:40px;">
            Whether you're launching your first AI agent or scaling to millions of users, 
            we'll help you build the testing infrastructure you need.
          </p>
          <div style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap;">
            <a href="/waitlist" class="cta-button primary">
              Join Waitlist
            </a>
            <a href="https://calendly.com/founders-pharmie/aniruddh-1-1" target="_blank" rel="noopener noreferrer" class="cta-button secondary">
              Let's Talk
            </a>
          </div>
        </div>
      </div>
    </section>

  </main>
  <Footer />
</BaseLayout>

<style>
  #hero::before {
    opacity: 0 !important;
  }
  
  /* Hero Box */
  .hero-box {
    border-left: 1px solid var(--border);
    border-right: 1px solid var(--border);
    padding: 64px;
    background: var(--box-bg);
    display: grid;
    grid-template-columns: 1fr 1.1fr;
    gap: 64px;
    align-items: center;
    position: relative;
    z-index: 10;
  }

  .hero-cubes {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Backed by box */
  .backed-by-box {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 8px 16px;
    border: 1px solid var(--border-bright);
    background: var(--box-bg);
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .backed-by-box:hover {
    border-color: var(--accent);
    color: var(--fg);
    transform: translateY(-1px);
  }

  .backed-by-text {
    opacity: 0.8;
  }

  .backed-by-logo {
    height: 20px;
    width: auto;
    display: block;
    opacity: 1;
  }

  /* Hero CTA Button */
  .hero-cta-btn {
    display: inline-flex;
    align-items: center;
    padding: 14px 32px;
    background: var(--accent);
    color: var(--btn-primary-text);
    border: 2px solid var(--accent);
    border-radius: 0;
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .hero-cta-btn:hover {
    background: transparent;
    color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px var(--ring);
  }

  /* Extended borders for hero box */
  .hero-box::before,
  .hero-box::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;
    height: 1px;
    background: var(--border);
    z-index: -1;
  }
  
  .hero-box::before {
    top: -1px;
  }
  
  .hero-box::after {
    bottom: -1px;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* Extended borders for how box */
  .how-box::before,
  .how-box::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;
    height: 1px;
    background: var(--border);
    z-index: -1;
  }
  
  .how-box::before {
    top: -1px;
  }
  
  .how-box::after {
    bottom: -1px;
  }

  .step-item {
    padding: 64px;
    border-bottom: 1px solid var(--border);
  }

  .step-item-header {
    margin-bottom: 32px;
  }

  .step-item-header .dev-section-title {
    margin-bottom: 0;
  }

  /* Desktop Hero Messages */
  .desktop-hero-message {
    padding: 120px 64px;
    text-align: center;
    position: relative;
    overflow: hidden;
    border-bottom: 1px solid var(--border);
    background: transparent;
  }

  .hero-message-content {
    position: relative;
    z-index: 2;
    max-width: 900px;
    margin: 0 auto;
  }

  .hero-message-eyebrow {
    display: inline-block;
    font-size: 14px;
    font-weight: 700;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    font-family: 'Space Grotesk', monospace;
    margin-bottom: 24px;
    opacity: 0.8;
    animation: fadeInUp 0.8s ease-out;
  }

  .hero-message-title {
    font-size: clamp(36px, 5vw, 64px);
    font-weight: 700;
    line-height: 1.1;
    margin: 0;
    font-family: 'Space Grotesk', sans-serif;
    background: linear-gradient(135deg, var(--fg) 0%, var(--accent) 50%, var(--fg) 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: fadeInUp 0.8s ease-out 0.2s both, gradientShift 4s ease-in-out infinite;
    position: relative;
    letter-spacing: -0.02em;
  }

  .hero-message-accent {
    width: 120px;
    height: 4px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    margin: 32px auto 0;
    position: relative;
    animation: fadeInUp 0.8s ease-out 0.4s both, pulse 2s ease-in-out infinite;
  }

  .hero-message-accent::before,
  .hero-message-accent::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    border: 2px solid var(--accent);
    border-radius: 50%;
    background: var(--bg);
  }

  .hero-message-accent::before {
    left: -20px;
    animation: glow 2s ease-in-out infinite;
  }

  .hero-message-accent::after {
    right: -20px;
    animation: glow 2s ease-in-out infinite 0.5s;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes gradientShift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 0.6;
      transform: scaleX(1);
    }
    50% {
      opacity: 1;
      transform: scaleX(1.1);
    }
  }

  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 8px var(--accent);
      opacity: 0.6;
    }
    50% {
      box-shadow: 0 0 20px var(--accent), 0 0 30px var(--accent);
      opacity: 1;
    }
  }

  /* Decorative elements for hero messages - removed background gradients */

  @keyframes gridMove {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 100% 100%;
    }
  }

  /* Step Cards */
  .step-cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    margin-bottom: 48px;
  }

  .step-card {
    background: var(--box-bg);
    border: 2px solid var(--border-bright);
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .step-card-header {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .step-number {
    width: 32px;
    height: 32px;
    display: grid;
    place-items: center;
    background: var(--accent);
    color: var(--btn-primary-text);
    font-size: 14px;
    font-weight: 700;
    font-family: 'Space Grotesk', monospace;
  }

  .step-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--fg);
    font-family: 'Space Grotesk', monospace;
  }

  .step-description {
    font-size: 14px;
    color: var(--muted);
    line-height: 1.6;
  }

  /* Scenario Animation */
  .scenario-animation {
    padding: 24px;
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Profile Cards Carousel */
  .profile-carousel {
    width: 100%;
    max-width: 900px;
    margin: 0 auto;
    perspective: 1000px;
    overflow: visible;
    padding-bottom: 32px;
    margin-bottom: 48px;
  }

  .carousel-description {
    text-align: center;
    color: var(--muted);
    font-size: 14px;
    margin-top: 24px;
    padding-top: 24px;
  }

  .carousel-track {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0;
    position: relative;
    height: 220px;
  }

  .profile-card {
    position: absolute;
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 24px;
    background: var(--box-bg);
    border: 2px solid var(--border-bright);
    cursor: pointer;
    width: 260px;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center center;
  }

  /* Position states for carousel */
  .profile-card[data-position="left"] {
    transform: translateX(-140%) scale(0.8);
    opacity: 0.5;
    z-index: 1;
    filter: blur(1px);
  }

  .profile-card[data-position="center"] {
    transform: translateX(0) scale(1);
    opacity: 1;
    z-index: 3;
    border-color: var(--accent);
    background: var(--accent-bg);
    box-shadow: 0 0 30px rgba(0, 229, 255, 0.25);
  }

  .profile-card[data-position="right"] {
    transform: translateX(140%) scale(0.8);
    opacity: 0.5;
    z-index: 1;
    filter: blur(1px);
  }

  .profile-card:hover {
    opacity: 0.8;
  }

  .profile-card[data-position="center"]:hover {
    opacity: 1;
    box-shadow: 0 0 40px rgba(0, 229, 255, 0.35);
  }

  .profile-avatar {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--border-bright);
    transition: all 0.5s ease;
  }

  .profile-card[data-position="center"] .profile-avatar {
    border-color: var(--accent);
  }

  .profile-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .profile-name {
    font-size: 18px;
    font-weight: 700;
    color: var(--fg);
    font-family: 'Space Grotesk', sans-serif;
  }

  .profile-role {
    font-size: 13px;
    font-weight: 600;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
  }

  .profile-desc {
    font-size: 14px;
    color: var(--muted);
    line-height: 1.5;
    margin: 0;
  }

  /* Pagination Dots */
  .pagination-dots {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    margin-top: 32px;
    padding: 16px 0;
  }

  .pagination-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid var(--border-bright);
    background: transparent;
    cursor: pointer;
    padding: 0;
    transition: all 0.3s ease;
    position: relative;
  }

  .pagination-dot:hover {
    border-color: var(--accent);
    transform: scale(1.1);
  }

  .pagination-dot.active {
    border-color: var(--accent);
    background: var(--accent);
    box-shadow: 0 0 12px rgba(0, 229, 255, 0.5);
  }

  .pagination-dot.completed {
    border-color: var(--accent);
    background: rgba(0, 229, 255, 0.3);
  }

  /* Top Row: Sandbox -> Input/Output -> Agent */
  .top-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    margin-bottom: 24px;
    flex-wrap: nowrap;
  }

  /* Sandbox Box - Fixed Size */
  .sandbox-box {
    width: 280px;
    height: 240px;
    border: 2px solid var(--accent);
    background: var(--box-bg);
    border-radius: 0;
    overflow: visible;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
    flex-shrink: 0;
  }

  .sandbox-box.highlight {
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);
  }

  .sandbox-box.grayed {
    opacity: 0.4;
    filter: grayscale(0.5);
  }

  .sandbox-header {
    padding: 10px 16px;
    background: linear-gradient(135deg, rgba(0, 229, 255, 0.1) 0%, rgba(0, 229, 255, 0.05) 100%);
    border-bottom: 1px solid var(--accent);
    font-size: 13px;
    font-weight: 700;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: 'Space Grotesk', monospace;
    text-align: center;
    flex-shrink: 0;
  }

  .sandbox-content {
    padding: 12px 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    flex: 1;
    justify-content: center;
    overflow: visible;
  }

  .sandbox-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .sandbox-section-label {
    font-size: 11px;
    font-weight: 700;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
  }

  .sandbox-row {
    display: flex;
    align-items: center;
    gap: 20px;
    justify-content: center;
    overflow: visible;
    padding: 8px 0;
  }

  .sandbox-row img,
  .sandbox-row svg {
    transition: all 0.3s ease;
    object-fit: contain;
  }

  #sandbox-user-icon {
    opacity: 1;
  }

  .user-name {
    font-size: 16px;
    font-weight: 600;
    color: var(--fg);
    font-family: 'Space Grotesk', monospace;
  }

  .integration-item {
    transition: all 0.3s ease;
    opacity: 0.5;
    object-fit: contain;
    display: block;
    box-sizing: border-box;
    border-radius: 8px;
    padding: 4px;
  }

  .integration-item.highlight {
    opacity: 1 !important;
    transform: scale(1.15) !important;
  }

  /* Arrows Container */
  .arrows-container {
    display: flex;
    flex-direction: column;
    gap: 108px;
    flex-shrink: 0;
    height: 240px;
    justify-content: center;
  }

  /* Horizontal Arrows */
  .arrow-horizontal {
    display: flex;
    align-items: center;
    gap: 0;
    transition: all 0.3s ease;
    opacity: 0.3;
  }

  .arrow-horizontal.highlight {
    opacity: 1;
  }

  .arrow-horizontal.highlight .arrow-line {
    background: var(--accent);
    box-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }

  .arrow-horizontal.highlight .arrow-head {
    border-left-color: var(--accent);
    filter: drop-shadow(0 0 6px rgba(0, 229, 255, 0.8));
  }

  .arrow-horizontal .arrow-line {
    width: 40px;
    height: 2px;
    background: var(--muted);
    transition: all 0.3s ease;
  }

  .arrow-horizontal.forward .arrow-head {
    width: 0;
    height: 0;
    border-left: 10px solid var(--muted);
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    transition: all 0.3s ease;
  }

  .arrow-horizontal.reverse {
    flex-direction: row-reverse;
  }

  .arrow-horizontal.reverse .arrow-head {
    width: 0;
    height: 0;
    border-right: 10px solid var(--muted);
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    transition: all 0.3s ease;
  }

  .arrow-horizontal.reverse.highlight .arrow-head {
    border-right-color: var(--accent);
    filter: drop-shadow(0 0 6px rgba(0, 229, 255, 0.8));
  }

  /* Input/Output Box - Fixed Size */
  .input-output-box {
    width: 280px;
    height: 240px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex-shrink: 0;
  }

  .io-item {
    flex: 1;
    border: 2px solid var(--border-bright);
    background: var(--box-bg);
    border-radius: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
  }

  .io-item.highlight {
    border-color: var(--border-bright);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .io-item.grayed {
    opacity: 0.4;
    filter: grayscale(0.5);
  }

  .io-label {
    padding: 8px 14px;
    background: var(--border);
    border-bottom: 1px solid var(--border-bright);
    font-size: 12px;
    font-weight: 700;
    color: var(--fg);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: 'Space Grotesk', monospace;
    flex-shrink: 0;
  }

  .io-text {
    padding: 12px 14px;
    font-size: 13px;
    color: var(--fg);
    line-height: 1.5;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    flex: 1;
    word-wrap: break-word;
  }

  .io-text:empty {
    display: none;
  }

  .io-text.tool-call {
    color: var(--accent);
    font-weight: 600;
    font-family: 'Space Grotesk', monospace;
    padding: 10px 12px;
    display: none;
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    word-wrap: break-word;
  }

  .io-text.tool-call.show {
    display: -webkit-box;
  }

  /* Agent Box - Fixed Size */
  .agent-box {
    width: 140px;
    height: 180px;
    display: flex;
    flex-direction: column;
    border: 2px solid var(--border-bright);
    background: var(--box-bg);
    border-radius: 0;
    transition: all 0.3s ease;
    flex-shrink: 0;
    overflow: hidden;
  }

  .agent-box.highlight {
    border-color: var(--border-bright);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .agent-box.grayed {
    opacity: 0.4;
    filter: grayscale(0.5);
  }

  .agent-label {
    padding: 8px 14px;
    background: var(--border);
    border-bottom: 1px solid var(--border-bright);
    font-size: 12px;
    font-weight: 700;
    color: var(--fg);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: 'Space Grotesk', monospace;
    flex-shrink: 0;
  }

  .agent-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px;
    gap: 12px;
  }

  .agent-labels {
    display: flex;
    flex-direction: column;
    gap: 8px;
    width: 100%;
    align-items: center;
  }

  .agent-label-item {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .agent-label-item span {
    font-size: 9px;
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
    transition: all 0.3s ease;
  }

  .agent-label-item#agent-prompt-label.glow span {
    color: #00e5ff;
    text-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }

  /* Vertical Arrows Container */
  .vertical-arrows-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    height: 60px;
    position: relative;
    width: 100%;
    max-width: calc(280px + 16px + 40px + 16px + 280px + 16px + 40px + 16px + 140px);
    margin-left: auto;
    margin-right: auto;
  }

  /* Arrow from Sandbox (center bottom) to Evals */
  .arrow-vertical-down {
    position: absolute;
    left: calc((280px / 2) - 1px);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .arrow-vertical-down .arrow-line {
    width: 2px;
    height: 50px;
    background: var(--muted);
    transition: all 0.3s ease;
  }

  .arrow-vertical-down.highlight .arrow-line {
    background: var(--accent);
    box-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }

  .arrow-vertical-down .arrow-head {
    width: 0;
    height: 0;
    border-top: 12px solid var(--muted);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    transition: all 0.3s ease;
  }

  .arrow-vertical-down.highlight .arrow-head {
    border-top-color: var(--accent);
    filter: drop-shadow(0 0 6px rgba(0, 229, 255, 0.8));
  }

  /* Arrow from Evals to Agent (center bottom of agent) */
  .arrow-vertical-up {
    position: absolute;
    right: calc((140px / 2) - 1px);
    bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    opacity: 0.3;
    transition: opacity 0.3s ease;
  }

  .arrow-vertical-up.highlight {
    opacity: 1;
  }

  .arrow-vertical-up .arrow-head {
    width: 0;
    height: 0;
    border-bottom: 12px solid var(--accent);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    transition: all 0.3s ease;
  }

  .arrow-vertical-up.highlight .arrow-head {
    filter: drop-shadow(0 0 6px rgba(0, 229, 255, 0.8));
  }

  .arrow-vertical-up .arrow-line {
    width: 2px;
    height: 50px;
    background: var(--accent);
    transition: all 0.3s ease;
  }

  .arrow-vertical-up.highlight .arrow-line {
    box-shadow: 0 0 8px rgba(0, 229, 255, 0.6);
  }

  .optimize-label {
    position: absolute;
    right: calc((140px / 2) + 15px);
    bottom: 22px;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    font-weight: 700;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  /* Bottom Row: Playgent Evals */
  .bottom-row {
    width: 100%;
    max-width: calc(280px + 16px + 40px + 16px + 280px + 16px + 40px + 16px + 140px);
    margin: 0 auto;
  }

  /* Playgent Evals Box */
  .evals-box {
    width: 100%;
    border: 2px solid var(--accent);
    background: var(--box-bg);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-radius: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    opacity: 0.3;
  }

  .evals-box.show {
    opacity: 1;
  }

  .evals-box.highlight {
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.3);
  }

  .spinner {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .evals-header {
    padding: 10px 16px;
    background: linear-gradient(135deg, rgba(0, 229, 255, 0.1) 0%, rgba(0, 229, 255, 0.05) 100%);
    border-bottom: 1px solid var(--accent);
    font-size: 13px;
    font-weight: 700;
    color: var(--accent);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: 'Space Grotesk', monospace;
    text-align: center;
  }

  .evals-content {
    padding: 16px;
  }

  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 700;
    font-family: 'Space Grotesk', monospace;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .status-badge.passed {
    background: rgba(34, 197, 94, 0.1);
    color: #22c55e;
    border: 2px solid #22c55e;
  }

  .status-badge.failed {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border: 2px solid #ef4444;
  }

  .evals-details {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .evals-top-row {
    display: flex;
    align-items: center;
    gap: 16px;
    justify-content: space-between;
  }

  .evals-scores {
    display: flex;
    gap: 12px;
    flex-wrap: nowrap;
  }

  .evals-section {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .evals-section-title {
    font-size: 10px;
    font-weight: 700;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-family: 'Space Grotesk', monospace;
  }

  .evals-section-content {
    font-size: 12px;
    color: var(--fg);
    line-height: 1.5;
    word-wrap: break-word;
  }

  .score-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 70px;
  }

  .score-label {
    font-size: 9px;
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
  }

  .score-value {
    font-size: 16px;
    font-weight: 700;
    color: var(--accent);
    font-family: 'Space Grotesk', monospace;
  }

  /* FAQ Section */
  .faq-container {
    display: flex;
    flex-direction: column;
    gap: 0;
    width: 100%;
  }

  .faq-item {
    border-bottom: 1px solid var(--border);
    background: transparent;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-item:first-child {
    border-top: 1px solid var(--border);
  }

  .faq-question {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 24px 0;
    background: transparent;
    border: none;
    cursor: pointer;
    text-align: left;
    font-size: 17px;
    font-weight: 600;
    color: var(--fg);
    font-family: 'Space Grotesk', sans-serif;
    transition: all 0.2s ease;
  }

  .faq-question:hover {
    color: var(--accent);
  }

  .faq-question span {
    flex: 1;
  }

  .faq-chevron {
    flex-shrink: 0;
    color: var(--muted);
    transition: transform 0.3s ease, color 0.3s ease;
  }

  .faq-item.open .faq-chevron {
    transform: rotate(180deg);
    color: var(--accent);
  }

  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease;
  }

  .faq-item.open .faq-answer {
    max-height: 500px;
  }

  .faq-answer p {
    padding: 0 0 24px;
    margin: 0;
    font-size: 15px;
    line-height: 1.8;
    color: var(--muted);
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 16px 32px;
    font-size: 16px;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.2s ease;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-family: 'Space Grotesk', monospace;
  }

  .cta-button.primary {
    background: var(--accent);
    color: var(--btn-primary-text);
    border: 1px solid var(--accent);
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px var(--ring);
  }

  .cta-button.secondary {
    background: transparent;
    color: var(--fg);
    border: 1px solid var(--border-bright);
  }

  .cta-button.secondary:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
  }

  @media (max-width: 968px) {
    .hero-box {
      grid-template-columns: 1fr;
      gap: 32px;
      padding: 48px 32px;
    }
  }

  /* Desktop only elements */
  .desktop-only {
    display: block;
  }

  .mobile-only {
    display: none;
  }

  /* Developer Sections */
  .dev-section {
    padding: 0;
    border-bottom: 1px solid var(--border);
  }

  .dev-section-grid {
    display: grid;
    grid-template-columns: 1fr 1.4fr;
    min-height: 400px;
  }

  .dev-section-grid.reverse {
    grid-template-columns: 1.4fr 1fr;
  }

  .dev-section-text {
    padding: 48px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    border-right: 1px solid var(--border);
  }

  .dev-section-grid.reverse .dev-section-text {
    border-right: none;
    border-left: 1px solid var(--border);
  }

  .dev-section-title {
    font-size: 28px;
    font-weight: 700;
    margin: 0 0 16px;
    color: var(--fg);
    font-family: 'Space Grotesk', sans-serif;
  }

  .dev-section-desc {
    font-size: 15px;
    color: var(--muted);
    line-height: 1.7;
    margin: 0;
  }

  .dev-section-header {
    padding: 32px 48px;
    border-bottom: 1px solid var(--border);
  }

  .dev-section-header .dev-section-title {
    margin-bottom: 8px;
  }

  .dev-section-grid-full {
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 380px;
  }

  /* Code Block */
  .dev-code-block {
    display: flex;
    flex-direction: column;
    background: #0d1117;
    overflow: hidden;
  }

  html:not(.dark) .dev-code-block {
    background: #f6f8fa;
  }

  .code-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: #161b22;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  html:not(.dark) .code-header {
    background: #e1e4e8;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .code-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .code-dot.red { background: #ff5f57; }
  .code-dot.yellow { background: #febc2e; }
  .code-dot.green { background: #28c840; }

  .code-filename {
    margin-left: 12px;
    font-size: 12px;
    color: #8b949e;
    font-family: 'SF Mono', 'Fira Code', monospace;
  }

  html:not(.dark) .code-filename {
    color: #586069;
  }

  .code-content {
    padding: 24px;
    font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', monospace;
    font-size: 14px;
    line-height: 1.8;
    flex: 1;
    overflow: hidden;
  }

  .code-line {
    opacity: 0;
    transform: translateY(4px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    white-space: pre;
  }

  .code-line.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .code-line.highlight {
    margin-left: -12px;
    padding-left: 12px;
    border-left: 3px solid #00e5ff;
  }

  html:not(.dark) .code-line.highlight {
    border-left-color: #0969da;
  }

  .code-line.output-line {
    margin-top: 4px;
  }

  /* Syntax highlighting - Dark mode (default) */
  .code-var { color: #79c0ff; }
  .code-op { color: #ff7b72; }
  .code-module { color: #d2a8ff; }
  .code-fn { color: #d2a8ff; }
  .code-param { color: #ffa657; }
  .code-string { color: #a5d6ff; }
  .code-prop { color: #79c0ff; }
  .code-keyword { color: #ff7b72; }
  .code-output { color: #3fb950; font-weight: 600; }

  /* Syntax highlighting - Light mode override */
  html:not(.dark) .code-var { color: #0550ae; }
  html:not(.dark) .code-op { color: #cf222e; }
  html:not(.dark) .code-module { color: #8250df; }
  html:not(.dark) .code-fn { color: #8250df; }
  html:not(.dark) .code-param { color: #953800; }
  html:not(.dark) .code-string { color: #0a3069; }
  html:not(.dark) .code-prop { color: #0550ae; }
  html:not(.dark) .code-keyword { color: #cf222e; }
  html:not(.dark) .code-output { color: #1a7f37; font-weight: 600; }

  /* Console Block */
  .console-block {
    display: flex;
    flex-direction: column;
    background: #0d1117;
    border-left: 1px solid var(--border);
    overflow: hidden;
  }

  html:not(.dark) .console-block {
    background: #f6f8fa;
  }

  .console-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: #161b22;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  html:not(.dark) .console-header {
    background: #e1e4e8;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .console-icon {
    color: #3fb950;
    font-size: 10px;
  }

  html:not(.dark) .console-icon {
    color: #1a7f37;
  }

  .console-title {
    font-size: 12px;
    color: #8b949e;
    font-family: 'SF Mono', 'Fira Code', monospace;
  }

  html:not(.dark) .console-title {
    color: #586069;
  }

  .console-content {
    padding: 24px;
    font-family: 'SF Mono', 'Fira Code', 'JetBrains Mono', monospace;
    font-size: 13px;
    line-height: 1.9;
    flex: 1;
    overflow: hidden;
  }

  .console-line {
    opacity: 0;
    transform: translateX(-8px);
    transition: opacity 0.4s ease, transform 0.4s ease;
    display: flex;
    gap: 8px;
    align-items: flex-start;
  }

  .console-line.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .console-line.system {
    color: #8b949e;
  }

  html:not(.dark) .console-line.system {
    color: #57606a;
  }

  .console-line.system .console-prefix {
    color: #3fb950;
  }

  html:not(.dark) .console-line.system .console-prefix {
    color: #1a7f37;
  }

  .console-line.user .console-label {
    color: #58a6ff;
    font-weight: 600;
    min-width: 60px;
  }

  html:not(.dark) .console-line.user .console-label {
    color: #0969da;
  }

  .console-line.user {
    color: #c9d1d9;
  }

  html:not(.dark) .console-line.user {
    color: #24292f;
  }

  .console-line.agent .console-label {
    color: #d2a8ff;
    font-weight: 600;
    min-width: 60px;
  }

  html:not(.dark) .console-line.agent .console-label {
    color: #8250df;
  }

  .console-line.agent {
    color: #c9d1d9;
  }

  html:not(.dark) .console-line.agent {
    color: #24292f;
  }

  .console-line.tool {
    color: #ffa657;
    padding-left: 68px;
  }

  html:not(.dark) .console-line.tool {
    color: #953800;
  }

  .console-line.tool .console-prefix {
    color: #ffa657;
  }

  html:not(.dark) .console-line.tool .console-prefix {
    color: #953800;
  }

  .console-line.tool .console-url {
    color: #3fb950;
  }

  html:not(.dark) .console-line.tool .console-url {
    color: #1a7f37;
  }

  .console-line.file {
    padding-left: 68px;
    color: #8b949e;
  }

  html:not(.dark) .console-line.file {
    color: #57606a;
  }

  .console-line.file .console-file {
    color: #58a6ff;
    text-decoration: underline;
  }

  html:not(.dark) .console-line.file .console-file {
    color: #0969da;
  }

  .console-line.success {
    color: #3fb950;
  }

  html:not(.dark) .console-line.success {
    color: #1a7f37;
  }

  .console-prefix {
    flex-shrink: 0;
  }

  .console-label {
    flex-shrink: 0;
  }

  @media (max-width: 768px) {
    /* Hide desktop-only elements on mobile */
    .desktop-only {
      display: none !important;
    }

    .mobile-only {
      display: block !important;
    }

    #hero {
      padding-top: 80px !important;
    }

    /* Dev sections mobile */
    .dev-section-grid,
    .dev-section-grid.reverse {
      grid-template-columns: 1fr;
    }

    .dev-section-text {
      padding: 32px 20px;
      border-right: none;
      border-bottom: 1px solid var(--border);
    }

    .dev-section-grid.reverse .dev-section-text {
      border-left: none;
      order: -1;
    }

    .code-content,
    .console-content {
      padding: 16px;
      font-size: 12px;
    }

    .console-line.tool,
    .console-line.file {
      padding-left: 0;
    }

    .console-block {
      border-left: none;
      border-top: 1px solid var(--border);
    }

    .dev-section-header {
      padding: 24px 20px;
    }

    .dev-section-grid-full {
      grid-template-columns: 1fr;
    }

    .dev-section-title {
      font-size: 24px;
    }

    .step-item-header {
      margin-bottom: 24px;
    }

    .hero-box {
      padding: 32px 20px;
      gap: 24px;
      border-left: none;
      border-right: none;
    }

    .hero-box::before,
    .hero-box::after {
      display: none;
    }

    .hero-box h1 {
      font-size: 28px;
    }

    .how-box {
      border-left: none !important;
      border-right: none !important;
    }
    
    .step-item {
      padding: 24px 16px;
      border-bottom: none;
    }

    .step-item::before,
    .step-item::after {
      display: none !important;
    }

    /* Hero messages for mobile */
    .desktop-hero-message {
      padding: 64px 24px;
    }

    .hero-message-content {
      max-width: 100%;
    }

    .hero-message-eyebrow {
      font-size: 12px;
      margin-bottom: 16px;
    }

    .hero-message-title {
      font-size: clamp(28px, 8vw, 48px);
      line-height: 1.2;
    }

    .hero-message-accent {
      width: 80px;
      height: 3px;
      margin: 24px auto 0;
    }

    .hero-message-accent::before {
      left: -16px;
      width: 6px;
      height: 6px;
    }

    .hero-message-accent::after {
      right: -16px;
      width: 6px;
      height: 6px;
    }

    /* Step cards for mobile */
    .step-cards {
      grid-template-columns: 1fr;
      gap: 16px;
      margin-bottom: 24px;
    }

    .step-card {
      padding: 20px;
    }

    .step-title {
      font-size: 14px;
    }

    .step-description {
      font-size: 13px;
    }

    .cta-button {
      width: 100%;
      justify-content: center;
    }

    .discovery-steps {
      grid-template-columns: 1fr;
    }

    .scenario-animation {
      padding: 16px;
    }

    .top-row {
      flex-wrap: wrap;
      gap: 12px;
    }

    .sandbox-box {
      width: 100%;
      max-width: 280px;
    }

    .input-output-box {
      width: 100%;
      max-width: 280px;
    }

    .agent-box {
      width: 100%;
      max-width: 140px;
    }

    .arrow-horizontal {
      transform: rotate(90deg);
      margin: 8px 0;
    }

    .vertical-arrows-container {
      flex-direction: column;
      height: auto;
      gap: 20px;
    }

    .arrow-vertical-down {
      position: relative;
      left: auto;
    }

    .arrow-vertical-up {
      position: relative;
      right: auto;
    }

    .outcome-arrows {
      flex-direction: row;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .outcome-arrow {
      transform: rotate(90deg);
    }

    /* FAQ Mobile Styles */
    .faq-question {
      padding: 16px 0;
      font-size: 15px;
    }

    .faq-answer p {
      padding: 0 0 16px;
      font-size: 14px;
    }

    /* Profile Carousel Mobile Styles */
    .profile-carousel {
      max-width: 100%;
      overflow: hidden;
    }

    .carousel-track {
      height: 200px;
    }

    .profile-card {
      width: 220px;
      padding: 20px;
    }

    .profile-card[data-position="left"] {
      transform: translateX(-120%) scale(0.75);
    }

    .profile-card[data-position="right"] {
      transform: translateX(120%) scale(0.75);
    }

    .profile-avatar {
      width: 48px;
      height: 48px;
    }

    .profile-name {
      font-size: 16px;
    }

    .profile-desc {
      font-size: 13px;
    }
  }
</style>

<script>
  // Typing effect
  const typedTextElement = document.getElementById('typed-text');
  const cursorElement = document.getElementById('cursor');
  
  if (typedTextElement) {
    const textArray = ['Test before you ship.'];
    let textIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    const typingSpeed = 80;
    const deletingSpeed = 40;
    const pauseDuration = 2000;

    function type() {
      if (!typedTextElement) return;
      const currentText = textArray[textIndex];
      
      if (isDeleting) {
        typedTextElement.textContent = currentText.substring(0, charIndex - 1);
        charIndex--;
        
        if (charIndex === 0) {
          isDeleting = false;
          textIndex = (textIndex + 1) % textArray.length;
          setTimeout(type, 500);
          return;
        }
        setTimeout(type, deletingSpeed);
      } else {
        typedTextElement.textContent = currentText.substring(0, charIndex + 1);
        charIndex++;
        
        if (charIndex === currentText.length) {
          setTimeout(type, pauseDuration);
          return;
        }
        setTimeout(type, typingSpeed);
      }
    }

    // Start typing effect after a short delay
    setTimeout(type, 500);
  }

  // Example Configurations
  const exampleConfigs = {
    'coding': {
      userName: 'Alex',
      integrations: ['github', 'jira', 'linear'],
      scenarios: [
        {
          input: "Create a new branch for the authentication feature",
          response: null,
          toolCall: "call github_create_branch",
          integration: "github",
          passed: true,
          graderRationale: "The agent successfully created a new branch with the correct naming convention and base branch.",
          scores: { correctness: 0.96, clarity: 0.92, completeness: 0.94 }
        },
        {
          input: "Update the Jira ticket status to In Progress",
          response: null,
          toolCall: "call jira_update_status",
          integration: "jira",
          passed: true,
          graderRationale: "The agent correctly updated the ticket status and added appropriate comments.",
          scores: { correctness: 0.94, clarity: 0.90, completeness: 0.92 }
        },
        {
          input: "Create a Linear issue for the bug in login flow",
          response: null,
          toolCall: "call linear_create_issue",
          integration: "linear",
          passed: false,
          graderRationale: "The agent failed to include all required fields in the issue description, missing reproduction steps.",
          scores: { correctness: 0.68, clarity: 0.72, completeness: 0.65 }
        }
      ]
    },
    'customer-support': {
      userName: 'Sandra',
      integrations: ['zendesk', 'slack', 'gmail'],
      scenarios: [
        {
          input: "Check the status of ticket #1234",
          response: null,
          toolCall: "call zendesk_get_ticket",
          integration: "zendesk",
          passed: true,
          graderRationale: "The agent retrieved the ticket details and provided a clear summary of the current status.",
          scores: { correctness: 0.95, clarity: 0.93, completeness: 0.91 }
        },
        {
          input: "Send an update to the customer via email",
          response: null,
          toolCall: "call gmail_send",
          integration: "gmail",
          passed: true,
          graderRationale: "The agent composed a professional email with all necessary information and proper tone.",
          scores: { correctness: 0.92, clarity: 0.94, completeness: 0.90 }
        },
        {
          input: "Notify the support team about the escalation",
          response: null,
          toolCall: "call slack_send_message",
          integration: "slack",
          passed: false,
          graderRationale: "The agent failed to tag the correct team members and omitted critical context about the issue.",
          scores: { correctness: 0.65, clarity: 0.70, completeness: 0.62 }
        }
      ]
    },
    'accounting': {
      userName: 'Michael',
      integrations: ['quickbooks', 'stripe', 'gmail'],
      scenarios: [
        {
          input: "Generate an invoice for client ABC Corp",
          response: null,
          toolCall: "call quickbooks_create_invoice",
          integration: "quickbooks",
          passed: true,
          graderRationale: "The agent created an accurate invoice with correct line items and payment terms.",
          scores: { correctness: 0.97, clarity: 0.91, completeness: 0.95 }
        },
        {
          input: "Check the status of the latest Stripe payment",
          response: null,
          toolCall: "call stripe_get_payment",
          integration: "stripe",
          passed: true,
          graderRationale: "The agent retrieved the payment details and correctly identified the transaction status.",
          scores: { correctness: 0.93, clarity: 0.89, completeness: 0.90 }
        },
        {
          input: "Send the monthly financial report to the CFO",
          response: null,
          toolCall: "call gmail_send",
          integration: "gmail",
          passed: false,
          graderRationale: "The agent failed to attach the report and sent an incomplete email.",
          scores: { correctness: 0.60, clarity: 0.75, completeness: 0.58 }
        }
      ]
    }
  };

  let currentExample = 'customer-support';
  let currentScenarios = exampleConfigs[currentExample as keyof typeof exampleConfigs].scenarios;

  function updateIntegrations(example: string) {
    const integrationsContainer = document.getElementById('integrations-container');
    const userName = document.getElementById('user-name');
    const userIcon = document.getElementById('sandbox-user-icon') as HTMLImageElement;
    
    const config = exampleConfigs[example as keyof typeof exampleConfigs];
    if (!config) return;
    
    // Update user name and icon
    if (userName) {
      userName.textContent = config.userName;
    }
    if (userIcon) {
      userIcon.src = `/${config.userName.toLowerCase()}-icon.png`;
    }
    
    // Update integrations
    if (integrationsContainer) {
      const integrations = config.integrations;
      integrationsContainer.innerHTML = '';
      
      integrations.forEach((integration: string) => {
        const img = document.createElement('img');
        img.src = `/${integration}-icon.png`;
        img.width = 40;
        img.height = 40;
        img.classList.add('integration-item');
        img.setAttribute('data-integration', integration);
        img.id = `integration-${integration}`;
        img.alt = integration;
        
        integrationsContainer.appendChild(img);
      });
    }
  }

  let animationInterval: any;
  let animationTimeouts: any[] = [];

  let currentAnimationStep = 0;
  let currentScenarioIndex = 0;

  function updatePaginationDots(step: number) {
    const dots = document.querySelectorAll('.pagination-dot');
    dots.forEach((dot, index) => {
      dot.classList.remove('active', 'completed');
      if (index < step) {
        dot.classList.add('completed');
      } else if (index === step) {
        dot.classList.add('active');
      }
    });
  }

  function initScenarioAnimation() {
    const sandboxBox = document.getElementById('sandbox-box');
    const scenarioInputBox = document.getElementById('scenario-input-box');
    const scenarioInputText = document.getElementById('scenario-input-text');
    const agentResponseBox = document.getElementById('agent-response-box');
    const agentResponseText = document.getElementById('agent-response-text');
    const agentToolCall = document.getElementById('agent-tool-call');
    const agentBox = document.getElementById('agent-box');
    const evalsBox = document.getElementById('evals-box');
    const statusBadge = document.getElementById('status-badge');
    const graderRationale = document.getElementById('grader-rationale');
    const scoreCorrectness = document.getElementById('score-correctness');
    const scoreClarity = document.getElementById('score-clarity');
    const scoreCompleteness = document.getElementById('score-completeness');
    const arrowSandboxToEvals = document.getElementById('arrow-sandbox-to-evals');
    const arrowEvalsToAgent = document.getElementById('arrow-evals-to-agent');
    const arrowInputForward = document.getElementById('arrow-input-forward');
    const arrowAgentForward = document.getElementById('arrow-agent-forward');
    const arrowOutputReverse = document.getElementById('arrow-output-reverse');
    const arrowAgentReverse = document.getElementById('arrow-agent-reverse');
    const optimizeLabel = document.getElementById('optimize-label');

    if (!sandboxBox || !scenarioInputBox || !scenarioInputText || !agentResponseBox || 
        !agentResponseText || !agentToolCall || !agentBox || !evalsBox || 
        !statusBadge || !graderRationale || !scoreCorrectness || !scoreClarity || 
        !scoreCompleteness || !arrowSandboxToEvals || !arrowEvalsToAgent) return;

    let currentIndex = 0;
    let currentStep = 0;

    function resetHighlights() {
      // Reset all highlights
      if (sandboxBox) {
        sandboxBox.classList.remove('highlight');
        sandboxBox.classList.remove('grayed');
      }
      if (scenarioInputBox) {
        scenarioInputBox.classList.remove('highlight');
        scenarioInputBox.classList.remove('grayed');
      }
      if (agentResponseBox) {
        agentResponseBox.classList.remove('highlight');
        agentResponseBox.classList.remove('grayed');
      }
      if (agentBox) {
        agentBox.classList.remove('highlight');
        agentBox.classList.remove('grayed');
      }
      if (evalsBox) {
        evalsBox.classList.remove('highlight');
        evalsBox.classList.remove('show');
      }
      document.querySelectorAll('.integration-item').forEach(item => {
        item.classList.remove('highlight');
        (item as HTMLElement).style.cssText = '';
      });
      if (agentResponseText) agentResponseText.textContent = '';
      if (agentToolCall) {
        agentToolCall.textContent = '';
        agentToolCall.classList.remove('show');
      }
      if (arrowSandboxToEvals) arrowSandboxToEvals.classList.remove('highlight');
      if (arrowEvalsToAgent) arrowEvalsToAgent.classList.remove('highlight');
      if (arrowInputForward) arrowInputForward.classList.remove('highlight');
      if (arrowAgentForward) arrowAgentForward.classList.remove('highlight');
      if (arrowOutputReverse) arrowOutputReverse.classList.remove('highlight');
      if (arrowAgentReverse) arrowAgentReverse.classList.remove('highlight');
      if (optimizeLabel) optimizeLabel.style.opacity = '0';
      const promptLabel = document.getElementById('agent-prompt-label');
      if (promptLabel) promptLabel.classList.remove('glow');
    }

    function cycleScenario() {
      if (currentIndex >= currentScenarios.length) {
        currentIndex = 0;
      }
      
      currentScenarioIndex = currentIndex;
      const scenario = currentScenarios[currentIndex];
      resetHighlights();

      // Step 1: Show scenario input (4 seconds)
      // Active: Sandbox, Input, Agent
      // Grayed: Output
      currentStep = 1;
      currentAnimationStep = 0;
      updatePaginationDots(0);
      if (scenarioInputText) scenarioInputText.textContent = scenario.input;
      if (sandboxBox) sandboxBox.classList.add('highlight');
      if (scenarioInputBox) scenarioInputBox.classList.add('highlight');
      if (agentBox) agentBox.classList.add('highlight');
      if (agentResponseBox) agentResponseBox.classList.add('grayed');
      // Highlight forward path: Sandbox -> Input -> Agent
      if (arrowInputForward) arrowInputForward.classList.add('highlight');
      if (arrowAgentForward) arrowAgentForward.classList.add('highlight');
      
      const timeout1 = setTimeout(() => {
        resetHighlights();
        
        // Step 2: Show agent response/tool call (4 seconds)
        // Active: Sandbox, Output, Agent
        // Grayed: Input
        currentStep = 2;
        currentAnimationStep = 1;
        updatePaginationDots(1);
        if (sandboxBox) sandboxBox.classList.add('highlight');
        if (agentBox) agentBox.classList.add('highlight');
        if (agentResponseBox) agentResponseBox.classList.add('highlight');
        if (scenarioInputBox) scenarioInputBox.classList.add('grayed');
        
        if (scenario.toolCall && agentToolCall) {
          agentToolCall.textContent = scenario.toolCall;
          agentToolCall.classList.add('show');

          // Highlight the relevant integration when tool call is made
        if (scenario.integration) {
            const integrationEl = document.getElementById(`integration-${scenario.integration}`);
            if (integrationEl) {
              integrationEl.classList.add('highlight');
              (integrationEl as HTMLElement).style.boxShadow = '0 0 20px #00e5ff, 0 0 40px rgba(0, 229, 255, 0.6)';
              (integrationEl as HTMLElement).style.transform = 'scale(1.15)';
              (integrationEl as HTMLElement).style.opacity = '1';
            }
          }
        } else if (scenario.response && agentResponseText) {
          agentResponseText.textContent = scenario.response;
        }

        // Highlight reverse path: Sandbox <- Output <- Agent
        if (arrowOutputReverse) arrowOutputReverse.classList.add('highlight');
        if (arrowAgentReverse) arrowAgentReverse.classList.add('highlight');

        const timeout2 = setTimeout(() => {
          resetHighlights();
          
          // Step 3: Show Playgent Evals (4 seconds)
          // Active: Evals only
          // Grayed: Sandbox, Input, Output, Agent
          currentStep = 3;
          currentAnimationStep = 2;
          updatePaginationDots(2);
          if (sandboxBox) sandboxBox.classList.add('grayed');
          if (scenarioInputBox) scenarioInputBox.classList.add('grayed');
          if (agentResponseBox) agentResponseBox.classList.add('grayed');
          if (agentBox) agentBox.classList.add('grayed');
          if (evalsBox) {
            evalsBox.classList.add('show');
            evalsBox.classList.add('highlight');
          }
          if (arrowSandboxToEvals) arrowSandboxToEvals.classList.add('highlight');
          
          // Update evals content
          if (statusBadge) {
            statusBadge.className = `status-badge ${scenario.passed ? 'passed' : 'failed'}`;
            if (scenario.passed) {
              statusBadge.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"></polyline></svg><span>Passed</span>';
          } else {
              statusBadge.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg><span>Failed</span>';
            }
          }
          if (graderRationale) graderRationale.textContent = scenario.graderRationale;
          if (scoreCorrectness) scoreCorrectness.textContent = scenario.scores.correctness.toFixed(2);
          if (scoreClarity) scoreClarity.textContent = scenario.scores.clarity.toFixed(2);
          if (scoreCompleteness) scoreCompleteness.textContent = scenario.scores.completeness.toFixed(2);

          const timeout3 = setTimeout(() => {
            resetHighlights();
            
            // Step 4: Show optimize prompt arrow (4 seconds)
            // Active: Agent only
            // Grayed: Sandbox, Input, Output
            currentStep = 4;
            currentAnimationStep = 3;
            updatePaginationDots(3);
            if (sandboxBox) sandboxBox.classList.add('grayed');
            if (scenarioInputBox) scenarioInputBox.classList.add('grayed');
            if (agentResponseBox) agentResponseBox.classList.add('grayed');
            if (agentBox) agentBox.classList.add('highlight');
            if (arrowEvalsToAgent) arrowEvalsToAgent.classList.add('highlight');
            if (optimizeLabel) optimizeLabel.style.opacity = '1';
            const promptLabel = document.getElementById('agent-prompt-label');
            if (promptLabel) promptLabel.classList.add('glow');

            const timeout4 = setTimeout(() => {
              // Move to next scenario immediately
              currentIndex++;
              resetHighlights();
              if (optimizeLabel) optimizeLabel.style.opacity = '0';
              
              // Start next scenario instantly
              cycleScenario();
            }, 4000);
            animationTimeouts.push(timeout4);
          }, 4000);
          animationTimeouts.push(timeout3);
        }, 4000);
        animationTimeouts.push(timeout2);
      }, 4000);
      animationTimeouts.push(timeout1);
    }

    // Start the cycle
    currentIndex = 0;
    cycleScenario();
  }

  // Carousel state
  let carouselIndex = 1; // Start with Sandra (customer-support)
  const carouselOrder = ['coding', 'customer-support', 'accounting'];

  const carouselDescriptions: Record<string, string> = {
    'coding': 'Alex is a fake software engineer at Acme corp using agents to manage code and track issues.',
    'customer-support': 'Sarah is a fake customer support member at Acme corp using agents to manage customer support tickets.',
    'accounting': 'Michael is a fake finance manager at Acme corp using agents to manage invoices and payments.'
  };

  function updateCarouselPositions(centerIndex: number) {
    const cards = document.querySelectorAll('.profile-card');
    const total = cards.length;
    
    cards.forEach((card) => {
      const cardIndex = parseInt(card.getAttribute('data-index') || '0');
      
      // Calculate relative position
      let diff = cardIndex - centerIndex;
      
      // Handle wrap-around for smooth cycling
      if (diff > 1) diff -= total;
      if (diff < -1) diff += total;
      
      if (diff === 0) {
        card.setAttribute('data-position', 'center');
        // Update description text
        const example = card.getAttribute('data-example') || '';
        const descEl = document.getElementById('carousel-description');
        if (descEl && carouselDescriptions[example]) {
          descEl.textContent = carouselDescriptions[example];
        }
      } else if (diff === -1 || diff === total - 1) {
        card.setAttribute('data-position', 'left');
      } else {
        card.setAttribute('data-position', 'right');
      }
    });
  }

  // Profile Card Handlers
  function initExampleButtons() {
    const profileCards = document.querySelectorAll('.profile-card');
    
    // Initialize positions with Sandra (index 1) as default
    updateCarouselPositions(1);
    
    profileCards.forEach(card => {
      card.addEventListener('click', () => {
        const clickedIndex = parseInt(card.getAttribute('data-index') || '0');
        
        // If already center, do nothing
        if (clickedIndex === carouselIndex) return;
        
        // Clear all animation timeouts
        animationTimeouts.forEach(timeout => clearTimeout(timeout));
        animationTimeouts = [];
        
        // Update carousel
        carouselIndex = clickedIndex;
        updateCarouselPositions(carouselIndex);
        
        // Update current example
        currentExample = card.getAttribute('data-example') || 'coding';
        const config = exampleConfigs[currentExample as keyof typeof exampleConfigs];
        if (config) {
          currentScenarios = config.scenarios;
        }
        
        // Reset scenario index and pagination
        currentScenarioIndex = 0;
        updatePaginationDots(0);
        
        // Update integrations and user
        updateIntegrations(currentExample);
        
        // Restart animation from beginning
        initScenarioAnimation();
      });
    });
  }

  // Pagination Dot Click Handlers
  function initPaginationDots() {
    const dots = document.querySelectorAll('.pagination-dot');
    
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        // Clear all animation timeouts
        animationTimeouts.forEach(timeout => clearTimeout(timeout));
        animationTimeouts = [];
        
        // Jump to the selected step
        jumpToStep(index);
      });
    });
  }

  function jumpToStep(step: number) {
    const sandboxBox = document.getElementById('sandbox-box');
    const scenarioInputBox = document.getElementById('scenario-input-box');
    const scenarioInputText = document.getElementById('scenario-input-text');
    const agentResponseBox = document.getElementById('agent-response-box');
    const agentResponseText = document.getElementById('agent-response-text');
    const agentToolCall = document.getElementById('agent-tool-call');
    const agentBox = document.getElementById('agent-box');
    const evalsBox = document.getElementById('evals-box');
    const statusBadge = document.getElementById('status-badge');
    const graderRationale = document.getElementById('grader-rationale');
    const scoreCorrectness = document.getElementById('score-correctness');
    const scoreClarity = document.getElementById('score-clarity');
    const scoreCompleteness = document.getElementById('score-completeness');
    const arrowSandboxToEvals = document.getElementById('arrow-sandbox-to-evals');
    const arrowEvalsToAgent = document.getElementById('arrow-evals-to-agent');
    const arrowInputForward = document.getElementById('arrow-input-forward');
    const arrowAgentForward = document.getElementById('arrow-agent-forward');
    const arrowOutputReverse = document.getElementById('arrow-output-reverse');
    const arrowAgentReverse = document.getElementById('arrow-agent-reverse');
    const optimizeLabel = document.getElementById('optimize-label');

    if (!sandboxBox || !scenarioInputBox || !scenarioInputText || !agentResponseBox || 
        !agentResponseText || !agentToolCall || !agentBox || !evalsBox || 
        !statusBadge || !graderRationale || !scoreCorrectness || !scoreClarity || 
        !scoreCompleteness) return;

    const scenario = currentScenarios[currentScenarioIndex];

    // Reset all highlights
    sandboxBox.classList.remove('highlight', 'grayed');
    scenarioInputBox.classList.remove('highlight', 'grayed');
    agentResponseBox.classList.remove('highlight', 'grayed');
    agentBox.classList.remove('highlight', 'grayed');
    evalsBox.classList.remove('highlight', 'show');
    document.querySelectorAll('.integration-item').forEach(item => {
      item.classList.remove('highlight');
      (item as HTMLElement).style.cssText = '';
    });
    agentResponseText.textContent = '';
    agentToolCall.textContent = '';
    agentToolCall.classList.remove('show');
    if (arrowSandboxToEvals) arrowSandboxToEvals.classList.remove('highlight');
    if (arrowEvalsToAgent) arrowEvalsToAgent.classList.remove('highlight');
    if (arrowInputForward) arrowInputForward.classList.remove('highlight');
    if (arrowAgentForward) arrowAgentForward.classList.remove('highlight');
    if (arrowOutputReverse) arrowOutputReverse.classList.remove('highlight');
    if (arrowAgentReverse) arrowAgentReverse.classList.remove('highlight');
    if (optimizeLabel) optimizeLabel.style.opacity = '0';
    const promptLabel = document.getElementById('agent-prompt-label');
    if (promptLabel) promptLabel.classList.remove('glow');

    // Update pagination
    currentAnimationStep = step;
    updatePaginationDots(step);

    // Apply the state for the selected step
    if (step === 0) {
      // Step 1: Input
      scenarioInputText.textContent = scenario.input;
      sandboxBox.classList.add('highlight');
      scenarioInputBox.classList.add('highlight');
      agentBox.classList.add('highlight');
      agentResponseBox.classList.add('grayed');
      if (arrowInputForward) arrowInputForward.classList.add('highlight');
      if (arrowAgentForward) arrowAgentForward.classList.add('highlight');
    } else if (step === 1) {
      // Step 2: Output/Tool Call
      scenarioInputText.textContent = scenario.input;
      sandboxBox.classList.add('highlight');
      agentBox.classList.add('highlight');
      agentResponseBox.classList.add('highlight');
      scenarioInputBox.classList.add('grayed');
      if (scenario.toolCall) {
        agentToolCall.textContent = scenario.toolCall;
        agentToolCall.classList.add('show');
        
        // Highlight the relevant integration when tool call is made
        if (scenario.integration) {
          const integrationEl = document.getElementById(`integration-${scenario.integration}`);
          if (integrationEl) {
            integrationEl.classList.add('highlight');
            (integrationEl as HTMLElement).style.boxShadow = '0 0 20px #00e5ff, 0 0 40px rgba(0, 229, 255, 0.6)';
            (integrationEl as HTMLElement).style.transform = 'scale(1.15)';
            (integrationEl as HTMLElement).style.opacity = '1';
          }
        }
      }
      if (arrowOutputReverse) arrowOutputReverse.classList.add('highlight');
      if (arrowAgentReverse) arrowAgentReverse.classList.add('highlight');
    } else if (step === 2) {
      // Step 3: Evals
      scenarioInputText.textContent = scenario.input;
      sandboxBox.classList.add('grayed');
      scenarioInputBox.classList.add('grayed');
      agentResponseBox.classList.add('grayed');
      agentBox.classList.add('grayed');
      evalsBox.classList.add('show', 'highlight');
      if (arrowSandboxToEvals) arrowSandboxToEvals.classList.add('highlight');
      statusBadge.className = `status-badge ${scenario.passed ? 'passed' : 'failed'}`;
      if (scenario.passed) {
        statusBadge.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"></polyline></svg><span>Passed</span>';
      } else {
        statusBadge.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg><span>Failed</span>';
      }
      graderRationale.textContent = scenario.graderRationale;
      scoreCorrectness.textContent = scenario.scores.correctness.toFixed(2);
      scoreClarity.textContent = scenario.scores.clarity.toFixed(2);
      scoreCompleteness.textContent = scenario.scores.completeness.toFixed(2);
    } else if (step === 3) {
      // Step 4: Optimize
      scenarioInputText.textContent = scenario.input;
      sandboxBox.classList.add('grayed');
      scenarioInputBox.classList.add('grayed');
      agentResponseBox.classList.add('grayed');
      agentBox.classList.add('highlight');
      if (arrowEvalsToAgent) arrowEvalsToAgent.classList.add('highlight');
      if (optimizeLabel) optimizeLabel.style.opacity = '1';
      const promptLabel = document.getElementById('agent-prompt-label');
      if (promptLabel) promptLabel.classList.add('glow');
    }

    // Resume animation after 4 seconds
    const resumeTimeout = setTimeout(() => {
      continueAnimationFromStep(step);
    }, 4000);
    animationTimeouts.push(resumeTimeout);
  }

  function continueAnimationFromStep(fromStep: number) {
    // This will continue the animation from the next step
    if (fromStep < 3) {
      jumpToStep(fromStep + 1);
    } else {
      // Move to next scenario
      currentScenarioIndex = (currentScenarioIndex + 1) % currentScenarios.length;
      jumpToStep(0);
    }
  }

  // FAQ Accordion
  function initFAQ() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');
      
      if (question) {
        question.addEventListener('click', () => {
          const isOpen = item.classList.contains('open');
          
          // Close all other items
          faqItems.forEach(otherItem => {
            if (otherItem !== item) {
              otherItem.classList.remove('open');
              const otherBtn = otherItem.querySelector('.faq-question');
              if (otherBtn) otherBtn.setAttribute('aria-expanded', 'false');
            }
          });
          
          // Toggle current item
          item.classList.toggle('open');
          question.setAttribute('aria-expanded', isOpen ? 'false' : 'true');
        });
      }
    });
  }

  // Initialize on load
  function init() {
    initExampleButtons();
    updateIntegrations(currentExample);
    initScenarioAnimation();
    initPaginationDots();
    initFAQ();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

  // Re-initialize after navigation
  document.addEventListener('astro:after-swap', init);

  // Animated Code Blocks and Console
  let animationsPlayed = false;
  
  function initCodeAnimations() {
    // Only run animations once per page load
    if (animationsPlayed) return;
    animationsPlayed = true;

    const envCodeContent = document.getElementById('env-code-content');
    const taskCodeContent = document.getElementById('task-code-content');
    const consoleOutput = document.getElementById('console-output');

    function animateLines(container: HTMLElement | null, baseDelay: number = 0) {
      if (!container) return;
      const lines = container.querySelectorAll('.code-line, .console-line');
      
      lines.forEach((line) => {
        const delay = parseInt(line.getAttribute('data-delay') || '0') + baseDelay;
        setTimeout(() => {
          line.classList.add('visible');
          
          // Handle console line highlighting
          if (line.classList.contains('console-line') && container.id === 'console-output') {
            const highlightIds = line.getAttribute('data-highlight');
            if (highlightIds) {
              // Remove previous highlights
              const taskLines = document.querySelectorAll('#task-code-content .code-line');
              taskLines.forEach(tl => tl.classList.remove('highlight'));
              
              // Add new highlights
              const ids = highlightIds.split(',');
              ids.forEach(id => {
                const targetLine = document.getElementById(id.trim());
                if (targetLine) {
                  targetLine.classList.add('highlight');
                }
              });
            }
          }
        }, delay);
      });
    }

    // Start animations immediately on page load
    animateLines(envCodeContent);
    animateLines(taskCodeContent);
    animateLines(consoleOutput);
  }

  // Initialize code animations
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCodeAnimations);
  } else {
    initCodeAnimations();
  }

  document.addEventListener('astro:after-swap', initCodeAnimations);
</script>

